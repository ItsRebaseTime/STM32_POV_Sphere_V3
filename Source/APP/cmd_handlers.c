/**********************************************************************************************************************
 * Includes
 *********************************************************************************************************************/
#include "cmd_handlers.h"
/**********************************************************************************************************************
 * Private definitions and macros
 *********************************************************************************************************************/

/**********************************************************************************************************************
 * Private typedef
 *********************************************************************************************************************/

/**********************************************************************************************************************
 * Private constants
 *********************************************************************************************************************/

/**********************************************************************************************************************
 * Private variables
 *********************************************************************************************************************/

/**********************************************************************************************************************
 * Exported variables and references
 *********************************************************************************************************************/

/**********************************************************************************************************************
 * Prototypes of private functions
 *********************************************************************************************************************/

/**********************************************************************************************************************
 * Definitions of private functions
 *********************************************************************************************************************/

/**********************************************************************************************************************
 * Definitions of exported functions
 *********************************************************************************************************************/
void CMD_LedBlink (sCmdHandlerArgs_t handler_args) {
    uint16_t led = atoi(handler_args.cmd_args[0]);
    uint16_t blinks = atoi(handler_args.cmd_args[1]);
    uint16_t interval = atoi(handler_args.cmd_args[2]);

    if (LED_API_BlinkLed(led, blinks, interval)) {
        snprintf(handler_args.response_buffer, handler_args.response_buffer_size, "[CLI]\tBlinking %d LED %d times\r\n", led, blinks);
    }
    else {
        snprintf(handler_args.response_buffer, handler_args.response_buffer_size, "[CLI]\tFailed to blink %d LED %d times\r\n", led, blinks);
    }
}

void CMD_LedToggle (sCmdHandlerArgs_t handler_args) {
    uint16_t led = atoi(handler_args.cmd_args[0]);

    if (LED_API_ToggleLed(led)) {
        snprintf(handler_args.response_buffer, handler_args.response_buffer_size, "[CLI]\tToggled %d LED\r\n", led);
    }
    else {
        snprintf(handler_args.response_buffer, handler_args.response_buffer_size, "[CLI]\tFailed to toggle %d LED\r\n", led);
    }
}
