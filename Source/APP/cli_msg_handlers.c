/**********************************************************************************************************************
 * Includes
 *********************************************************************************************************************/
#include "cli_msg_handlers.h"
/**********************************************************************************************************************
 * Private definitions and macros
 *********************************************************************************************************************/

/**********************************************************************************************************************
 * Private typedef
 *********************************************************************************************************************/

/**********************************************************************************************************************
 * Private constants
 *********************************************************************************************************************/

/**********************************************************************************************************************
 * Private variables
 *********************************************************************************************************************/

/**********************************************************************************************************************
 * Exported variables and references
 *********************************************************************************************************************/

/**********************************************************************************************************************
 * Prototypes of private functions
 *********************************************************************************************************************/

/**********************************************************************************************************************
 * Definitions of private functions
 *********************************************************************************************************************/

/**********************************************************************************************************************
 * Definitions of exported functions
 *********************************************************************************************************************/
void MSG_LedBlink (sMsgHandlerArgs_t *handler_args) {
    uint16_t led = atoi(handler_args->msg_args[0]);
    uint16_t blinks = atoi(handler_args->msg_args[1]);
    uint16_t interval = atoi(handler_args->msg_args[2]);

    LED_APP_BlinkLed(led, blinks, interval);
    snprintf(handler_args->response_buffer, handler_args->response_buffer_size, "Blinking %d LED %d times\r\n", led, blinks);
}

void MSG_LedToggle (sMsgHandlerArgs_t *handler_args) {
    uint16_t led = atoi(handler_args->msg_args[0]);

    LED_API_ToggleLed(led);
    snprintf(handler_args->response_buffer, handler_args->response_buffer_size, "Toggled %d LED\r\n", led);

}

void MSG_ResetModem (sMsgHandlerArgs_t *handler_args) {
    //Modem_API_Reset();
    snprintf(handler_args->response_buffer, handler_args->response_buffer_size, "Modem has been reset\r\n");
}

void MSG_SendToModem (sMsgHandlerArgs_t *handler_args) {
    //Modem_API_Send(handler_args->msg_args[0]);
    //Modem_API_Send("\r\n");
    snprintf(handler_args->response_buffer, handler_args->response_buffer_size, "Sent to modem: %s\r\n", handler_args->msg_args[0]);
}
